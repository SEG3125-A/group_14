<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <style>
        @import url('https://your-web-font-service-url');
      </style>
    <title>Lab1 Survey</title>

    
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

  </head>
  <body class="background">
    <div class="center">
        <div class="border">

    <div class="logo-container">
      <div class="gg-instagram"></div>
    </div>

    <link
      rel="stylesheet"
      href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"
    />

    <section class="header-section">
      <div class="insta"><div class="innerbox"></div></div>
      <h1 class="header-section">Instagram Survey</h1>
      <div>
        <a class="header-text" href="https://www.instagram.com">Click here to check out Instagram</a>
    </div>
    </section>

    <main>
      <div class="form-container">
        <form action="/submit" method="post">
          <div class="question-container">
            <br>
            <h3>What is your name?</h3>
            <label for="username"></label>
            <input type="text" id="q1" name="username" required />
          </div>

          <div class="drag-question-container">
            <h3>How much do you enjoy using the Instagram App? (on a scale from 1-10)</h3>
            <label for="enjoyment-scale" class="form-label">Bad</label>
            <label for="enjoyment-scale" class="form-label float-end">Excellent</label>
            <div class="range">
              <input type="range" class="form-range" min="0" max="10" step="1" id="enjoyment-scale" name="enjoyment-scale" oninput="updatePopupValue(this.value)"  />
              <div class="popup" id="popup">0</div>
            </div>
          </div>
          

          <div class="question-container">
            <h3>Which is your favourite instagram service:</h3>
            <label for="instagram-services">Choose a service:</label>
            <select id="instagram-services" name="instagram-services">
              <option id="q3-option1" value="reels">Reels</option>
              <option id="q3-option2" value="dms">Direct Messages</option>
              <option id="q3-option3" value="story-viewing">Story Viewing </option>
              <option id="q3-option4" value="posts">Posts</option>
            </select>
          </div>

          <div class="question-container">
            <h3>How often do you use the Instagram web app?</h3>
            <label>
              <input
                id="q4-option1"
                type="radio"
                name="usage"
                value="never"
              />
              Never
            </label>
            <label>
              <input id="q4-option2" type="radio" name="usage" value="rarely" />
              Rarely
            </label>
            <label>
              <input
                id="q4-option3"
                type="radio"
                name="usage"
                value="sometimes"
              />
              Sometimes
            </label>
            <label>
              <input id="q4-option4" type="radio" name="usage" value="often" />
              Often
            </label>
            <label>
              <input id="q4-option5" type="radio" name="usage" value="always" />
              Always
            </label>
          </div>

          <div class="question-container">
            <h3>
              Which of the following services on Instagram have you used in the
              web app?
            </h3>
            <label>
              <input
                id="q5-option1"
                type="checkbox"
                name="usage"
                value="reels"
              />
              Reels
            </label>
            <label>
              <input
                id="q5-option2"
                type="checkbox"
                name="usage"
                value="posting"
              />
              Posting
            </label>
            <label>
              <input
                id="q5-option3"
                type="checkbox"
                name="usage"
                value="story-viewing"
              />
              Story Viewing
            </label>
          </div>

          <div class="question-container">
            <h3>Any Additional Comments?</h3>
            <label for="q6" value="Any Additional Comments?"></label>
            <textarea id="q6" name="final" rows="4" cols="50"></textarea>
          </div>

          <div class="actions">
            <br> 
            <button  id="button" type="submit" value="Submit">Submit</button>
          </div>
        </form>
      </div>
    </main>

    <footer>
      <span class="signature">
        <br />
        Designed By Feyi Adesanya, Tina Trinh, Serena Iyoha, Tara Denaud
      </span>
    </footer>

      <!-- Bootstrap JS, Popper.js, and jQuery -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/gsap.min.js"></script>
  
  <script>
    function updatePopupValue(value) {
      const slider = document.getElementById('enjoyment-scale');
      const popup = document.getElementById('popup');
      const max = slider.max;
      const min = slider.min;
    
      // Update popup text
      popup.textContent = value;
    
      // Calculate percentage
      const percentage = ((value - min) / (max - min)) * 100;
    
      // Adjust popup position
      popup.style.left = `calc(${percentage}% + (${slider.offsetLeft}px) - (${popup.offsetWidth / 2}px))`;
    
      // Make the popup visible
      popup.style.visibility = 'visible';
    }
    
    // Hide popup when not focusing or hovering
    slider.addEventListener('mouseleave', () => {
      popup.style.visibility = 'hidden';
    });
    slider.addEventListener('blur', () => {
      popup.style.visibility = 'hidden';
    });


    function updatePopupPosition(slider) {
      const popup = document.getElementById('popup');
      const sliderValue = parseInt(slider.value);
      const min = parseInt(slider.min) || 0;
      const max = parseInt(slider.max) || 100;

      // Calculate the percentage of the slider value within the total range
      const percentage = ((sliderValue - min) / (max - min)) * 100;

      // Adjust the position of the popup. The 'left' style property is a percentage of the slider's width
      // The additional calculation aims to adjust the popup position more accurately under the slider thumb
      popup.style.left = `calc(${percentage}% + (${(popup.offsetWidth / 2) * (percentage / 100) * -1}px))`;

      // Update the popup content and make it visible
      popup.textContent = sliderValue;
      popup.style.visibility = 'visible';
    }

    </script>
  </body>
</html>
